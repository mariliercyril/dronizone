sudo: required

language: java
env:
  - DOCKER_USERNAME=scp1920

services:
  - docker

before_install:
  - bash docker_login.sh $DOCKER_USERNAME $DOCKER_PASSWORD

install:
  - docker pull $DOCKER_USERNAME/dronizone:notification
  - mvn clean install -DskipTests

before_script:
  - cd dronizone-notification
  - docker-compose up --build -d
  - docker run -d -p 9103:9103 -t $DOCKER_USERNAME/dronizone:notification

script:
  - mvn test

notifications:
  email:
    recipients:
      - valentin.ah-kane@etu.univ-cotedazur.fr
      - filipe.costa-de-sousa@etu.univ-cotedazur.fr
      - romain.garnier@etu.univ-cotedazur.fr
      - cyril.marilier@etu.univ-cotedazur.fr

